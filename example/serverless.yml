service: serverlessr-test
provider:
  name: aws
  profile: nadir-personal
  runtime: provided
  stage: dev
  region: us-east-2
  memorySize: 128
  iamRoleStatements:
    - Effect: "Allow"
      Action:
        - "s3:ListBucket"
        - "s3:GetObject"
      Resource:
        Fn::Join:
          - ''
          - - 'arn:aws:s3:::'
            - 'r-plumber-lambda'
functions:
  test-function:
    handler: plumber
    layers:
      - arn:aws:lambda:us-east-2:144438831032:layer:R-3_6_3-RookRuntime:39
    environment:
      LOGLEVEL: DEBUG
    events:
      - http:
          method: get
          path: /echo
      - http:
          method: get
          path: /plot
      - http:
          method: post
          path: /sum
          # integration: lambda
          # request:
          #   template:
          #     application/json: '$input.body'
